var _=Object.defineProperty;var M=(s,r,n)=>r in s?_(s,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[r]=n;var S=(s,r,n)=>M(s,typeof r!="symbol"?r+"":r,n);import{r as x,a as B,R as U}from"./vendor-cxkclgJA.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&t(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Q={exports:{}},y={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W=x,G=Symbol.for("react.element"),J=Symbol.for("react.fragment"),z=Object.prototype.hasOwnProperty,Y=W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,K={key:!0,ref:!0,__self:!0,__source:!0};function I(s,r,n){var t,o={},a=null,d=null;n!==void 0&&(a=""+n),r.key!==void 0&&(a=""+r.key),r.ref!==void 0&&(d=r.ref);for(t in r)z.call(r,t)&&!K.hasOwnProperty(t)&&(o[t]=r[t]);if(s&&s.defaultProps)for(t in r=s.defaultProps,r)o[t]===void 0&&(o[t]=r[t]);return{$$typeof:G,type:s,key:a,ref:d,props:o,_owner:Y.current}}y.Fragment=J;y.jsx=I;y.jsxs=I;Q.exports=y;var e=Q.exports,C={},P=B;C.createRoot=P.createRoot,C.hydrateRoot=P.hydrateRoot;const b=s=>s.type==="mcq",k=s=>s.type==="typing",E=s=>s.type==="open",A=s=>(s||"").toLowerCase().trim().replace(/[\u3000\s]+/g," ").replace(/[''`]/g,"'").normalize("NFC"),V=s=>{const r=s.slice();for(let n=r.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1)),o=r[n];r[n]=r[t],r[t]=o}return r},X=()=>new Date().toISOString(),Z=(s,r)=>r===0?0:Math.round(s/r*100),w={QUIZ_MIN_QUESTIONS:6,QUIZ_MAX_QUESTIONS:14,EXAM_QUESTIONS:20};var q=(s=>(s.IDLE="idle",s.ACTIVE="active",s.COMPLETED="completed",s.PAUSED="paused",s))(q||{});class T{constructor(r){S(this,"currentSession",null);S(this,"questionBank");this.questionBank=r}startSession(r){try{const n=this.getQuestionsForSession(r);return n.length===0?(console.warn(`à¹„à¸¡à¹ˆà¸à¸šà¸„à¸³à¸–à¸²à¸¡à¸ªà¸³à¸«à¸£à¸±à¸š ${r.track}/${r.framework}/${r.level}`),!1):(this.currentSession={config:r,questions:r.shuffleQuestions!==!1?V(n):n,currentIndex:0,answers:new Array(n.length).fill(null),correctAnswers:new Array(n.length).fill(!1),startTime:Date.now(),state:"active"},console.log(`ğŸ¯ à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸‹à¸ªà¸Šà¸±à¸™ ${r.mode}: ${n.length} à¸‚à¹‰à¸­`),!0)}catch(n){return console.error("à¹€à¸à¸´à¸”à¸‚à¹‰à¸­à¸œà¸´à¸”à¸à¸¥à¸²à¸”à¹ƒà¸™à¸à¸²à¸£à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸‹à¸ªà¸Šà¸±à¸™:",n),!1}}getCurrentQuestion(){if(!this.currentSession||this.currentSession.state!=="active")return null;const{questions:r,currentIndex:n}=this.currentSession;return r[n]||null}getSessionProgress(){if(!this.currentSession)return{current:0,total:0,correct:0};const{currentIndex:r,questions:n,correctAnswers:t}=this.currentSession,o=t.filter(Boolean).length;return{current:Math.min(r+1,n.length),total:n.length,correct:o}}answerMCQ(r){const n=this.getCurrentQuestion();if(!n||!b(n)||!this.currentSession)return{isCorrect:!1,explanation:"à¹„à¸¡à¹ˆà¸à¸šà¸„à¸³à¸–à¸²à¸¡ MCQ"};const t=n,o=r===t.answerIndex;this.currentSession.answers[this.currentSession.currentIndex]=r,this.currentSession.correctAnswers[this.currentSession.currentIndex]=o;const a={isCorrect:o},d=t.choices[t.answerIndex];return d&&(a.correctAnswer=d),t.explanation&&(a.explanation=t.explanation),a}answerTyping(r){const n=this.getCurrentQuestion();if(!n||!k(n)||!this.currentSession)return{isCorrect:!1,explanation:"à¹„à¸¡à¹ˆà¸à¸šà¸„à¸³à¸–à¸²à¸¡ Typing"};const t=n,o=A(r),d=t.accept.map(A).includes(o);this.currentSession.answers[this.currentSession.currentIndex]=r,this.currentSession.correctAnswers[this.currentSession.currentIndex]=d;const c={isCorrect:d};return t.accept.length>0&&(c.correctAnswer=t.accept),t.explanation&&(c.explanation=t.explanation),c}answerOpen(r){const n=this.getCurrentQuestion();if(!n||!E(n)||!this.currentSession)return{isCorrect:!1,explanation:"à¹„à¸¡à¹ˆà¸à¸šà¸„à¸³à¸–à¸²à¸¡ Open"};const t=n;this.currentSession.answers[this.currentSession.currentIndex]=r,this.currentSession.correctAnswers[this.currentSession.currentIndex]=!0;const o={isCorrect:!0};return t.explanation&&(o.explanation=t.explanation),o}nextQuestion(){if(!this.currentSession||this.currentSession.state!=="active")return!1;const{questions:r,currentIndex:n}=this.currentSession;return n<r.length-1?(this.currentSession.currentIndex++,!0):(this.currentSession.state="completed",this.currentSession.endTime=Date.now(),!1)}previousQuestion(){return!this.currentSession||this.currentSession.state!=="active"?!1:this.currentSession.currentIndex>0?(this.currentSession.currentIndex--,!0):!1}skipQuestion(){return this.currentSession?(this.currentSession.answers[this.currentSession.currentIndex]=null,this.currentSession.correctAnswers[this.currentSession.currentIndex]=!1,this.nextQuestion()):!1}finishSession(){if(!this.currentSession)return null;const{config:r,correctAnswers:n}=this.currentSession,t=n.length,o=n.filter(Boolean).length,a=Z(o,t);this.currentSession.state="completed",this.currentSession.endTime=Date.now();const d={date:X(),track:r.track,framework:r.framework,level:r.level,mode:r.mode,scorePct:a,total:t,correct:o};return console.log(`âœ… à¹€à¸‹à¸ªà¸Šà¸±à¸™à¹€à¸ªà¸£à¹‡à¸ˆà¸ªà¸´à¹‰à¸™: ${o}/${t} (${a}%)`),this.currentSession=null,d}forceFinishSession(){return this.currentSession?(this.currentSession.state="completed",this.finishSession()):null}resetSession(){this.currentSession&&(console.log("ğŸ”„ à¸£à¸µà¹€à¸‹à¹‡à¸•à¹€à¸‹à¸ªà¸Šà¸±à¸™"),this.currentSession=null)}pauseSession(){return this.currentSession&&this.currentSession.state==="active"?(this.currentSession.state="paused",console.log("â¸ï¸ à¸«à¸¢à¸¸à¸”à¹€à¸‹à¸ªà¸Šà¸±à¸™à¸Šà¸±à¹ˆà¸§à¸„à¸£à¸²à¸§"),!0):!1}resumeSession(){return this.currentSession&&this.currentSession.state==="paused"?(this.currentSession.state="active",console.log("â–¶ï¸ à¹€à¸£à¸´à¹ˆà¸¡à¹€à¸‹à¸ªà¸Šà¸±à¸™à¸•à¹ˆà¸­"),!0):!1}getSessionState(){return this.currentSession?.state||"idle"}getQuestionsForSession(r){const{track:n,framework:t,level:o,mode:a,questionCount:d}=r,c=this.questionBank[n];if(!c)return[];const u=c[t];if(!u)return[];const p=u[o];if(!p||p.length===0)return[];let g=[...p];switch(a){case"Quiz":const m=w.QUIZ_MIN_QUESTIONS,i=w.QUIZ_MAX_QUESTIONS,l=d||Math.min(i,g.length);g=g.slice(0,Math.max(m,l));break;case"Exam":const v=d||w.EXAM_QUESTIONS;g=g.slice(0,v);break}return g}}const L={EN:{Classic:{Beginner:[{id:"en-mcq-1",type:"mcq",prompt:"What is the capital of Thailand?",choices:["Bangkok","Chiang Mai","Phuket","Pattaya"],answerIndex:0,explanation:"Bangkok is the capital and largest city of Thailand."},{id:"en-typing-1",type:"typing",prompt:'Type the word "hello" in English',accept:["hello","Hello","HELLO"],placeholder:"Type your answer here...",explanation:"Hello is a common greeting in English."},{id:"en-open-1",type:"open",prompt:"Describe your favorite hobby in 2-3 sentences.",explanation:"This is an open-ended question to practice writing skills.",rubric:["Grammar","Vocabulary","Coherence"]},{id:"en-mcq-2",type:"mcq",prompt:"Which of these is a fruit?",choices:["Carrot","Apple","Potato","Onion"],answerIndex:1,explanation:"An apple is a fruit, while the others are vegetables."},{id:"en-typing-2",type:"typing",prompt:'Complete: "I ___ to school every day" (go/goes)',accept:["go","Go"],explanation:'Use "go" with "I" (first person singular).'}]},CEFR:{A1:[{id:"cefr-a1-1",type:"mcq",prompt:'How do you say "good morning"?',choices:["Good night","Good morning","Good evening","Good afternoon"],answerIndex:1,explanation:"Good morning is used to greet someone in the morning."}]},JLPT:{N5:[]}},JP:{Classic:{Beginner:[{id:"jp-mcq-1",type:"mcq",prompt:"ã“ã‚“ã«ã¡ã¯ means:",choices:["Good morning","Hello/Good afternoon","Good evening","Good night"],answerIndex:1,explanation:"ã“ã‚“ã«ã¡ã¯ (konnichiwa) is used as a greeting during the day."}]},CEFR:{A1:[]},JLPT:{N5:[{id:"jlpt-n5-1",type:"typing",prompt:'Type "arigatou" in hiragana',accept:["ã‚ã‚ŠãŒã¨ã†","ã‚ãƒªãŒã¨ã†"],explanation:'ã‚ã‚ŠãŒã¨ã† means "thank you" in Japanese.'}]}}};function H(s){const r=s.getCurrentQuestion(),n=s.getSessionProgress();if(console.log(`
`+"=".repeat(50)),console.log(`ğŸ“š Question ${n.current}/${n.total} | Score: ${n.correct}/${n.current-1}`),console.log("=".repeat(50)),!r){console.log("âŒ No question available");return}if(console.log(`ğŸ¯ ${r.prompt}`),r.type==="mcq")r.choices.forEach((o,a)=>{console.log(`   ${a+1}. ${o}`)});else if(r.type==="typing"){const t=r;t.placeholder&&console.log(`ğŸ’¡ Hint: ${t.placeholder}`)}else if(r.type==="open"){const t=r;t.rubric&&console.log(`ğŸ“‹ Evaluation criteria: ${t.rubric.join(", ")}`)}}function ee(s){console.log(`
`+"-".repeat(30)),s.isCorrect?console.log("âœ… Correct!"):console.log("âŒ Incorrect"),s.explanation&&console.log(`ğŸ’¡ ${s.explanation}`),s.correctAnswer&&(Array.isArray(s.correctAnswer)?console.log(`ğŸ¯ Acceptable answers: ${s.correctAnswer.join(", ")}`):console.log(`ğŸ¯ Correct answer: ${s.correctAnswer}`)),console.log("-".repeat(30))}async function se(){console.log("ğŸŒ Welcome to Saku Dojo v2 Demo! ğŸŒ"),console.log(`Language Learning Engine Demonstration
`);const s=new T(L);if(console.log("ğŸ“– Demo 1: English Classic Beginner Quiz"),console.log(`Starting a 3-question quiz session...
`),!s.startSession({track:"EN",framework:"Classic",level:"Beginner",mode:"Quiz",questionCount:3,shuffleQuestions:!1})){console.log("âŒ Failed to start session");return}let n=0;for(;s.getSessionState()===q.ACTIVE&&n<5;){n++,H(s);const o=s.getCurrentQuestion();if(!o)break;let a;if(o.type==="mcq"){const c=n===1?0:n===4?1:2;a=s.answerMCQ(c),console.log(`
ğŸ‘¤ User selected: ${c+1}`)}else if(o.type==="typing"){const u=["hello","go"][n===2?0:1]||"test";a=s.answerTyping(u),console.log(`
ğŸ‘¤ User typed: "${u}"`)}else if(o.type==="open"){const c="I love reading books because it helps me learn new things and relax.";a=s.answerOpen(c),console.log(`
ğŸ‘¤ User wrote: "${c}"`)}if(a&&ee(a),!s.nextQuestion()){console.log(`
ğŸ Session completed!`);break}await new Promise(c=>setTimeout(c,1e3))}const t=s.finishSession();t&&(console.log(`
`+"ğŸ‰".repeat(20)),console.log("ğŸ“Š FINAL RESULTS"),console.log("ğŸ‰".repeat(20)),console.log(`ğŸ“… Date: ${t.date}`),console.log(`ğŸŒ Language: ${t.track}`),console.log(`ğŸ“š Framework: ${t.framework}`),console.log(`ğŸ“ˆ Level: ${t.level}`),console.log(`ğŸ® Mode: ${t.mode}`),console.log(`âœ… Score: ${t.correct}/${t.total} (${t.scorePct}%)`),t.scorePct>=80?console.log("ğŸŒŸ Excellent! You're ready for the next level!"):t.scorePct>=60?console.log("ğŸ‘ Good job! Keep practicing!"):console.log("ğŸ’ª Keep studying! You'll improve with practice!")),console.log(`
`+"=".repeat(50)),console.log("ğŸŒ Demo completed! Thank you for trying Saku Dojo v2! ğŸŒ"),console.log("=".repeat(50))}se().catch(console.error);const te=({onStartSession:s,onShowProgress:r,progressCount:n})=>{const[t,o]=x.useState("EN"),[a,d]=x.useState("Classic"),[c,u]=x.useState("Beginner"),[p,g]=x.useState("Quiz"),[m,i]=x.useState(5),l=()=>{const h={track:t,framework:a,level:c,mode:p};p==="Quiz"&&(h.questionCount=m),s(h)},v=()=>a==="CEFR"?["A1","A2","B1","B2","C1","C2"]:a==="JLPT"?["N5","N4","N3","N2","N1"]:["Beginner","Intermediate","Advanced"];return e.jsxs("div",{className:"fade-in",children:[e.jsxs("div",{className:"card",style:{maxWidth:"600px",margin:"0 auto"},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-2",children:"ğŸ¯ Start Learning Session"}),e.jsx("p",{className:"text-gray-600 text-center",children:"Choose your language, framework, and difficulty level"})]}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ğŸŒ Language / à¸ à¸²à¸©à¸²"}),e.jsxs("select",{className:"form-select",value:t,onChange:h=>o(h.target.value),children:[e.jsx("option",{value:"EN",children:"ğŸ‡ºğŸ‡¸ English (à¸­à¸±à¸‡à¸à¸¤à¸©)"}),e.jsx("option",{value:"JP",children:"ğŸ‡¯ğŸ‡µ Japanese (à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ğŸ“š Framework / à¸«à¸¥à¸±à¸à¸ªà¸¹à¸•à¸£"}),e.jsxs("select",{className:"form-select",value:a,onChange:h=>{const N=h.target.value;d(N),u(N==="CEFR"?"A1":N==="JLPT"?"N5":"Beginner")},children:[e.jsx("option",{value:"Classic",children:"ğŸ“ Classic (à¸—à¸±à¹ˆà¸§à¹„à¸›)"}),e.jsx("option",{value:"CEFR",children:"ğŸ‡ªğŸ‡º CEFR (à¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸¢à¸¸à¹‚à¸£à¸›)"}),e.jsx("option",{value:"JLPT",children:"ğŸŒ JLPT (à¸¡à¸²à¸•à¸£à¸à¸²à¸™à¸à¸µà¹ˆà¸›à¸¸à¹ˆà¸™)"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ğŸ“ˆ Level / à¸£à¸°à¸”à¸±à¸š"}),e.jsx("select",{className:"form-select",value:c,onChange:h=>u(h.target.value),children:v().map(h=>e.jsx("option",{value:h,children:h},h))})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ğŸ® Mode / à¹‚à¸«à¸¡à¸”"}),e.jsxs("select",{className:"form-select",value:p,onChange:h=>g(h.target.value),children:[e.jsx("option",{value:"Quiz",children:"âš¡ Quiz (à¹à¸šà¸šà¸—à¸”à¸ªà¸­à¸šà¸ªà¸±à¹‰à¸™)"}),e.jsx("option",{value:"Study",children:"ğŸ“– Study (à¸¨à¸¶à¸à¸©à¸²)"}),e.jsx("option",{value:"Exam",children:"ğŸ“ Exam (à¸ªà¸­à¸š)"}),e.jsx("option",{value:"Read",children:"ğŸ‘ï¸ Read (à¸­à¹ˆà¸²à¸™)"}),e.jsx("option",{value:"Write",children:"âœï¸ Write (à¹€à¸‚à¸µà¸¢à¸™)"})]})]}),p==="Quiz"&&e.jsxs("div",{className:"form-group",children:[e.jsx("label",{className:"form-label",children:"ğŸ”¢ Number of Questions / à¸ˆà¸³à¸™à¸§à¸™à¸‚à¹‰à¸­"}),e.jsxs("select",{className:"form-select",value:m,onChange:h=>i(Number(h.target.value)),children:[e.jsx("option",{value:3,children:"3 questions"}),e.jsx("option",{value:5,children:"5 questions"}),e.jsx("option",{value:10,children:"10 questions"}),e.jsx("option",{value:15,children:"15 questions"}),e.jsx("option",{value:20,children:"20 questions"})]})]})]}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("button",{className:"btn btn-primary btn-lg",onClick:l,children:"ğŸš€ Start Learning"}),n>0&&e.jsxs("button",{className:"btn btn-secondary",onClick:r,children:["ğŸ“Š View Progress (",n," sessions)"]})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-center",children:"â„¹ï¸ How to Use / à¸§à¸´à¸˜à¸µà¹ƒà¸Šà¹‰à¸‡à¸²à¸™"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ğŸ“± Mobile Friendly:"})," Works perfectly on phones and tablets"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ğŸ’¾ Auto Save:"})," Your progress is automatically saved"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ğŸ”„ Offline Ready:"})," Works without internet after first load"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"ğŸ¯ Question Types:"})," Multiple choice, typing, and open-ended"]})]})]})})})]})},re=({engine:s,onFinish:r,onExit:n})=>{const[t,o]=x.useState(null),[a,d]=x.useState({current:0,total:0,correct:0}),[c,u]=x.useState(""),[p,g]=x.useState(!1),[m,i]=x.useState(null),[l,v]=x.useState(!1);x.useEffect(()=>{h()},[]);const h=()=>{const f=s.getCurrentQuestion(),j=s.getSessionProgress();o(f),d(j),u(""),g(!1),i(null),v(!1)},N=()=>{if(!t||l)return;let f;if(b(t))f=s.answerMCQ(Number(c));else if(k(t))f=s.answerTyping(String(c));else if(E(t))f=s.answerOpen(String(c));else return;i(f),g(!0),v(!0)},$=()=>{s.nextQuestion()?h():r()},F=()=>{s.skipQuestion(),s.nextQuestion()?h():r()},O=()=>l||!t?!1:b(t)?c!=="":String(c).trim().length>0,D=a.total>0?a.current/a.total*100:0;return t?e.jsxs("div",{className:"fade-in",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Question ",a.current," of ",a.total]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Score: ",a.correct,"/",a.current-1]})]}),e.jsx("div",{className:"progress",children:e.jsx("div",{className:"progress-bar",style:{width:`${D}%`}})})]}),e.jsxs("div",{className:"card mb-6",children:[e.jsx("div",{className:"card-header",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:[t.type==="mcq"&&"ğŸ¯ Multiple Choice",t.type==="typing"&&"âŒ¨ï¸ Type Your Answer",t.type==="open"&&"âœï¸ Open Question"]}),e.jsxs("span",{className:"text-xs bg-gray-100 px-2 py-1 rounded",children:["ID: ",t.id]})]})}),e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-lg mb-4",children:t.prompt}),b(t)&&e.jsx("div",{className:"space-y-3",children:t.choices.map((f,j)=>e.jsxs("label",{className:`flex items-center p-4 border rounded-lg cursor-pointer transition-colors ${c===j?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"} ${l?"cursor-not-allowed opacity-75":""}`,children:[e.jsx("input",{type:"radio",name:"mcq-answer",value:j,checked:c===j,onChange:R=>!l&&u(Number(R.target.value)),disabled:l,className:"mr-3"}),e.jsxs("span",{className:"font-medium mr-2",children:[String.fromCharCode(65+j),"."]}),e.jsx("span",{children:f})]},j))}),k(t)&&e.jsx("div",{children:e.jsx("input",{type:"text",className:"form-input",placeholder:t.placeholder||"Type your answer...",value:c,onChange:f=>!l&&u(f.target.value),disabled:l,autoFocus:!0})}),E(t)&&e.jsxs("div",{children:[e.jsx("textarea",{className:"form-textarea",placeholder:"Write your answer here...",value:c,onChange:f=>!l&&u(f.target.value),disabled:l,rows:4,autoFocus:!0}),t.rubric&&e.jsx("div",{className:"mt-2",children:e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Evaluation criteria:"})," ",t.rubric.join(", ")]})})]})]}),p&&m&&e.jsx("div",{className:`alert ${m.isCorrect?"alert-success":"alert-error"} mb-4`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"text-2xl",children:m.isCorrect?"âœ…":"âŒ"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold mb-2",children:m.isCorrect?"Correct!":"Incorrect"}),m.explanation&&e.jsx("p",{className:"mb-2",children:m.explanation}),m.correctAnswer&&!m.isCorrect&&e.jsxs("p",{children:[e.jsx("strong",{children:"Correct answer:"})," "," ",Array.isArray(m.correctAnswer)?m.correctAnswer.join(", "):m.correctAnswer]})]})]})})]}),e.jsx("div",{className:"card-footer",children:e.jsx("div",{className:"flex gap-3",children:l?e.jsx("button",{className:"btn btn-primary flex-1",onClick:$,children:a.current<a.total?"Next Question":"Finish"}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn btn-primary flex-1",onClick:N,disabled:!O(),children:"Submit Answer"}),e.jsx("button",{className:"btn btn-secondary",onClick:F,children:"Skip"})]})})})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{className:"btn btn-secondary btn-sm",onClick:n,children:"ğŸšª Exit Session"})})]}):e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"card",children:e.jsx("div",{className:"card-body",children:e.jsx("p",{children:"Loading question..."})})})})},ne=({progress:s,onRestart:r,onShowProgress:n})=>{const t=c=>c>=80?"text-green-600":c>=60?"text-yellow-600":"text-red-600",o=c=>c>=90?"ğŸŒŸ":c>=80?"ğŸ‰":c>=70?"ğŸ‘":c>=60?"ğŸ‘Œ":c>=50?"ğŸ’ª":"ğŸ“š",a=c=>c>=90?"Outstanding! You're mastering this level! ğŸŒŸ":c>=80?"Excellent work! You're ready for the next challenge! ğŸ‰":c>=70?"Great job! Keep up the good work! ğŸ‘":c>=60?"Good effort! A little more practice will help! ğŸ‘Œ":c>=50?"You're getting there! Keep practicing! ğŸ’ª":"Don't give up! Every expert was once a beginner! ğŸ“š",d=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"});return e.jsxs("div",{className:"fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-6xl mb-4 bounce",children:o(s.scorePct)}),e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Session Complete!"}),e.jsx("p",{className:"text-gray-600",children:"Here are your results"})]}),e.jsxs("div",{className:"card mb-6",style:{maxWidth:"600px",margin:"0 auto"},children:[e.jsxs("div",{className:"card-header text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"ğŸ“Š Your Score"}),e.jsxs("div",{className:`text-5xl font-bold ${t(s.scorePct)}`,children:[s.scorePct,"%"]}),e.jsxs("p",{className:"text-lg text-gray-600 mt-2",children:[s.correct," out of ",s.total," correct"]})]}),e.jsxs("div",{className:"card-body",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"progress",style:{height:"12px"},children:e.jsx("div",{className:"progress-bar",style:{width:`${s.scorePct}%`,backgroundColor:s.scorePct>=80?"#10B981":s.scorePct>=60?"#F59E0B":"#EF4444"}})})}),e.jsx("div",{className:"alert alert-info mb-6",children:e.jsx("p",{className:"text-center font-medium",children:a(s.scorePct)})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Language"}),e.jsx("div",{className:"text-lg",children:s.track==="EN"?"ğŸ‡ºğŸ‡¸ English":"ğŸ‡¯ğŸ‡µ Japanese"})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Framework"}),e.jsx("div",{className:"text-lg",children:s.framework})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Level"}),e.jsx("div",{className:"text-lg",children:s.level})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded",children:[e.jsx("div",{className:"font-semibold text-gray-700",children:"Mode"}),e.jsx("div",{className:"text-lg",children:s.mode})]})]}),e.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500",children:["Completed on ",d(s.date)]})]}),e.jsx("div",{className:"card-footer",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("button",{className:"btn btn-primary btn-lg",onClick:r,children:"ğŸš€ Start New Session"}),e.jsx("button",{className:"btn btn-secondary",onClick:n,children:"ğŸ“Š View All Progress"})]})})]}),e.jsxs("div",{className:"card",style:{maxWidth:"600px",margin:"0 auto"},children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-semibold text-center",children:"ğŸ’¡ Tips for Improvement"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"text-sm space-y-2",children:[s.scorePct<60&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"â€¢ ğŸ“– Review the basics of this level before trying again"}),e.jsx("p",{children:"â€¢ ğŸ”„ Practice similar questions to build confidence"}),e.jsx("p",{children:"â€¢ â° Take your time to read each question carefully"})]}),s.scorePct>=60&&s.scorePct<80&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"â€¢ ğŸ¯ Focus on the question types you missed"}),e.jsx("p",{children:"â€¢ ğŸ“š Try studying mode for more detailed explanations"}),e.jsx("p",{children:"â€¢ ğŸ”„ Regular practice will help improve your score"})]}),s.scorePct>=80&&e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"â€¢ ğŸš€ You're ready to try the next difficulty level!"}),e.jsx("p",{children:"â€¢ ğŸ¯ Challenge yourself with exam mode"}),e.jsx("p",{children:"â€¢ ğŸ“ˆ Keep practicing to maintain your skills"})]}),e.jsx("p",{children:"â€¢ ğŸ“± This app works offline - practice anytime, anywhere!"})]})})]})]})},oe=({progressHistory:s,onBack:r,onClearHistory:n})=>{const[t,o]=x.useState("date"),[a,d]=x.useState("all"),c=s.filter(i=>a==="all"||i.track===a).sort((i,l)=>t==="date"?new Date(l.date).getTime()-new Date(i.date).getTime():l.scorePct-i.scorePct),u={totalSessions:s.length,averageScore:s.length>0?Math.round(s.reduce((i,l)=>i+l.scorePct,0)/s.length):0,bestScore:s.length>0?Math.max(...s.map(i=>i.scorePct)):0,totalQuestions:s.reduce((i,l)=>i+l.total,0),totalCorrect:s.reduce((i,l)=>i+l.correct,0)},p=i=>new Date(i).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),g=i=>i>=80?"text-green-600 bg-green-100":i>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",m=()=>{window.confirm("Are you sure you want to clear all progress history? This cannot be undone.")&&n()};return e.jsxs("div",{className:"fade-in",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"ğŸ“Š Learning Progress"}),e.jsx("button",{className:"btn btn-secondary btn-sm",onClick:r,children:"â† Back"})]}),s.length>0&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.totalSessions}),e.jsx("div",{className:"text-sm text-gray-600",children:"Sessions"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[u.averageScore,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Average"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[u.bestScore,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Best Score"})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:u.totalCorrect}),e.jsx("div",{className:"text-sm text-gray-600",children:"Correct"})]})})]}),s.length>0&&e.jsx("div",{className:"card mb-6",children:e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Sort by:"}),e.jsxs("select",{className:"form-select",style:{width:"auto",minWidth:"120px"},value:t,onChange:i=>o(i.target.value),children:[e.jsx("option",{value:"date",children:"ğŸ“… Date"}),e.jsx("option",{value:"score",children:"ğŸ¯ Score"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Language:"}),e.jsxs("select",{className:"form-select",style:{width:"auto",minWidth:"120px"},value:a,onChange:i=>d(i.target.value),children:[e.jsx("option",{value:"all",children:"ğŸŒ All"}),e.jsx("option",{value:"EN",children:"ğŸ‡ºğŸ‡¸ English"}),e.jsx("option",{value:"JP",children:"ğŸ‡¯ğŸ‡µ Japanese"})]})]}),e.jsx("div",{className:"flex-1"}),e.jsx("button",{className:"btn btn-danger btn-sm",onClick:m,children:"ğŸ—‘ï¸ Clear History"})]})})})]}),c.length===0?e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center",children:[e.jsx("div",{className:"text-6xl mb-4",children:"ğŸ“š"}),e.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Progress Yet"}),e.jsx("p",{className:"text-gray-600 mb-4",children:s.length===0?"Start your first learning session to see your progress here!":"No sessions match your current filters."}),e.jsx("button",{className:"btn btn-primary",onClick:r,children:"Start Learning"})]})}):e.jsx("div",{className:"space-y-4",children:c.map((i,l)=>e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-lg",children:i.track==="EN"?"ğŸ‡ºğŸ‡¸":"ğŸ‡¯ğŸ‡µ"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-semibold",children:[i.framework," - ",i.level]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[i.mode," â€¢ ",p(i.date)]})]})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[i.correct,"/",i.total," questions correct"]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold ${g(i.scorePct)}`,children:[i.scorePct,"%"]})})]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"progress",style:{height:"6px"},children:e.jsx("div",{className:"progress-bar",style:{width:`${i.scorePct}%`,backgroundColor:i.scorePct>=80?"#10B981":i.scorePct>=60?"#F59E0B":"#EF4444"}})})})]})},l))}),s.length>0&&e.jsx("div",{className:"mt-8",children:e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header",children:e.jsx("h3",{className:"text-lg font-semibold",children:"ğŸ† Achievements"})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-center",children:[u.totalSessions>=1&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-1",children:"ğŸ¯"}),e.jsx("div",{className:"text-sm font-medium",children:"First Steps"})]}),u.totalSessions>=5&&e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-1",children:"ğŸ”¥"}),e.jsx("div",{className:"text-sm font-medium",children:"Getting Started"})]}),u.totalSessions>=10&&e.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-1",children:"ğŸ’ª"}),e.jsx("div",{className:"text-sm font-medium",children:"Dedicated"})]}),u.bestScore>=80&&e.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-1",children:"â­"}),e.jsx("div",{className:"text-sm font-medium",children:"High Scorer"})]}),u.bestScore>=95&&e.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-1",children:"ğŸŒŸ"}),e.jsx("div",{className:"text-sm font-medium",children:"Perfect!"})]}),u.totalCorrect>=50&&e.jsxs("div",{className:"p-3 bg-indigo-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl mb-1",children:"ğŸ“"}),e.jsx("div",{className:"text-sm font-medium",children:"Scholar"})]})]})})]})})]})};function ae(){const[s,r]=x.useState("start"),[n]=x.useState(()=>new T(L)),[t,o]=x.useState([]),[a,d]=x.useState(null);x.useEffect(()=>{const i=localStorage.getItem("saku-dojo-progress");if(i)try{o(JSON.parse(i))}catch(l){console.error("Failed to load progress:",l)}},[]);const c=i=>{const l=[...t,i];o(l),localStorage.setItem("saku-dojo-progress",JSON.stringify(l))},u=i=>{n.startSession(i)?r("quiz"):alert("à¹„à¸¡à¹ˆà¸à¸šà¸„à¸³à¸–à¸²à¸¡à¸ªà¸³à¸«à¸£à¸±à¸šà¸à¸²à¸£à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸²à¸™à¸µà¹‰ à¸à¸£à¸¸à¸“à¸²à¹€à¸¥à¸·à¸­à¸à¹ƒà¸«à¸¡à¹ˆ")},p=()=>{const i=n.finishSession();i&&(d(i),c(i),r("result"))},g=()=>{n.resetSession(),d(null),r("start")},m=()=>{r("progress")};return e.jsxs("div",{className:"app",children:[e.jsx("header",{className:"app-header",children:e.jsxs("div",{className:"container",children:[e.jsx("h1",{className:"app-title",children:"ğŸŒ Saku Dojo v2"}),e.jsx("p",{className:"app-subtitle",children:"Language Learning Platform"})]})}),e.jsx("main",{className:"app-main",children:e.jsxs("div",{className:"container",children:[s==="start"&&e.jsx(te,{onStartSession:u,onShowProgress:m,progressCount:t.length}),s==="quiz"&&e.jsx(re,{engine:n,onFinish:p,onExit:g}),s==="result"&&a&&e.jsx(ne,{progress:a,onRestart:g,onShowProgress:m}),s==="progress"&&e.jsx(oe,{progressHistory:t,onBack:g,onClearHistory:()=>{o([]),localStorage.removeItem("saku-dojo-progress")}})]})}),e.jsx("footer",{className:"app-footer",children:e.jsx("div",{className:"container",children:e.jsx("p",{children:"Â© 2024 Saku Dojo v2 - Open Source Language Learning"})})})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(s=>{console.log("SW registered: ",s)}).catch(s=>{console.log("SW registration failed: ",s)})});C.createRoot(document.getElementById("root")).render(e.jsx(U.StrictMode,{children:e.jsx(ae,{})}));
